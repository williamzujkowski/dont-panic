LLM Instructions: Build "Don't Panic" Frontend (Astro/Tailwind)Objective: Generate the code for the "Don't Panic" vulnerability intelligence website frontend using Astro.js and Tailwind CSS.Core Constraints & Requirements:Framework: Use Astro.js.Styling: Use Tailwind CSS via the official @astrojs/tailwind integration.UI Components: Primarily use Astro components (.astro). Minimize client-side JavaScript unless explicitly required for features like search/filtering (Phase 3).TypeScript: Use TypeScript (Strict mode).Standards: All generated code MUST adhere strictly to the standards defined in the project's CLAUDE.md document (including code style, formatting, testing, accessibility, Git practices).Performance: Prioritize fast load times inherent to Astro's static generation.Accessibility: Implement WCAG 2.1 AA standards. Ensure semantic HTML, keyboard navigation, sufficient color contrast, and ARIA roles where needed.Repository Structure: Follow the FILE_TREE.md defined in the dont-panic repository plan.Theme: Implement a clean, professional, modern UI. Incorporate the "Don't Panic" theme subtly (e.g., calm colors, clear typography, potentially a small, non-distracting icon like a stylized towel or lifebuoy).Implementation Steps:Phase 1: Basic Setup & Single Report DisplayProject Initialization:Initialize an Astro project (npm create astro@latest).Select TypeScript (Strict).Add Tailwind CSS integration (npx astro add tailwind).Configure astro.config.mjs (e.g., site URL, output: 'static').Configure tailwind.config.cjs.Setup ESLint/Prettier for Astro/TS/Tailwind.Content Collection (src/content/):Create src/content/config.ts.Define a Zod schema for the reports collection. Required frontmatter: title (string), date (date), cvss (number, optional), epss (number, optional), severity (enum/string: 'Critical', 'High', inferred or set), isZeroDay (boolean, optional).Create the src/content/reports/ directory. Add a sample sample-cve.md file with valid frontmatter.Base Layout (src/layouts/BaseLayout.astro):Create a base layout component.Include standard HTML structure (<!DOCTYPE html>, <html>, <head>, <body>).Add viewport meta tag: <meta name="viewport" content="width=device-width, initial-scale=1.0">.Include basic SEO meta tags (title template, description).Integrate Tailwind CSS base styles.Define props for page title and description.Include header and footer components (create placeholders initially).Use a <slot /> for main page content.Apply base Tailwind styles to <body> (e.g., background color, default text color, font - use Inter, Lato, or Roboto).Header Component (src/components/Header.astro):Create a header component.Include Site Title "Don't Panic" (linking to /).(Optional) Include a subtle site icon (e.g., SVG towel/lifebuoy).Apply Tailwind classes for layout (e.g., flex, justify-between, items-center), padding, background color, text styles.Footer Component (src/components/Footer.astro):Create a footer component.Include copyright text (e.g., Â© {currentYear} Don't Panic).(Optional) Link to source code repository.Apply Tailwind classes for layout, padding, text styles.Report Detail Page (src/pages/reports/[slug].astro):Implement getStaticPaths to fetch all entries from the reports collection using getCollection('reports'). Generate paths based on slugs.Use the BaseLayout.astro. Pass the report title as the page title prop.Access the report data via Astro.props.entry.Render Report Header:Display CVE ID (entry.slug or a dedicated frontmatter field) as a large heading (e.g., <h1> with Tailwind text-3xl font-bold).Display Report Title (entry.data.title) as a subheading (e.g., <h2> with Tailwind text-xl).Display Published Date (entry.data.date). Format nicely.Include SeverityTag component (see below) based on entry.data.severity.Include ZeroDayTag component (see below) if entry.data.isZeroDay is true.Render Quick Summary: Display the first paragraph or a dedicated summary field from frontmatter if available. Position prominently below the header.Render Key Scores & Metrics:Create a visually distinct section (e.g., using a div with border/background).Include ScoreDisplay component (see below) for CVSS and EPSS scores (entry.data.cvss, entry.data.epss).(Optional) Display CISA KEV status if data is available in frontmatter.Render Detailed Analysis:Render the main Markdown content using <entry.Content />.Ensure Astro's Markdown processor is configured to render headings, lists, code blocks correctly.Apply Tailwind's @tailwindcss/typography plugin (prose classes) to the container rendering <entry.Content /> for readable text formatting.Render Mitigation & References: These sections should be part of the Markdown content generated by the LLM. Ensure the prose styling handles lists and links appropriately.Severity Tag Component (src/components/SeverityTag.astro):Create a component that accepts a severity prop ('Critical', 'High').Render a small badge/tag.Apply Tailwind classes for styling:Critical: bg-red-100 text-red-800 border border-red-300 px-2 py-0.5 rounded text-xs font-semibold.High: bg-orange-100 text-orange-800 border border-orange-300 px-2 py-0.5 rounded text-xs font-semibold.Zero-Day Tag Component (src/components/ZeroDayTag.astro):Create a component that renders only if needed.Render a small badge/tag with text like "PRELIMINARY" or "ZERO-DAY".Apply distinct Tailwind classes (e.g., bg-yellow-100 text-yellow-800 border border-yellow-300 px-2 py-0.5 rounded text-xs font-semibold).Score Display Component (src/components/ScoreDisplay.astro):Create a component accepting type ('CVSS'/'EPSS'), score (number), link (optional URL).Display label (e.g., "CVSS Score:", "EPSS Score:").Display the score value. Format EPSS as percentage.Apply color-coding based on type and score value using Tailwind classes (Red for CVSS >= 9.0, Orange for CVSS 7.0-8.9, potentially Purple/Orange for high EPSS).If link is provided, make the score or label a link to the source (NVD/FIRST).Code Block Styling:Configure Astro's Markdown or an integration (like @astrojs/prism or rehype plugins) for syntax highlighting.Ensure code blocks have appropriate background, padding, font (monospace), and horizontal scrolling if needed. Add a "copy" button via JavaScript if feasible in Phase 1/2.Phase 2: Report Listing & AutomationIndex Page (src/pages/index.astro):Use the BaseLayout.astro.Fetch all reports using getCollection('reports'). Sort reports by date descending by default.Implement basic sorting controls (buttons or dropdown) to re-sort the fetched reports by Date, CVSS, EPSS. (Client-side JS might be needed here, or regenerate the page with query params if sticking to static).Iterate through the sorted reports.For each report, render a ReportCard component.Implement pagination if the number of reports exceeds a threshold (e.g., 10-15 per page). Use Astro's pagination features.Report Card Component (src/components/ReportCard.astro):Create component accepting a report entry object as a prop.Layout using Tailwind CSS (e.g., div with padding, border, rounded corners, shadow on hover).Display CVE ID prominently (e.g., font-semibold text-lg). Make this the link (<a href={/reports/${report.slug}}>).Display Title/Summary (report.data.title or excerpt). Limit length (text-ellipsis overflow-hidden).Display Key Scores using ScoreDisplay component.Display Date (report.data.date).Display SeverityTag and ZeroDayTag components.CI/CD Automation:Implement workflows (.github/workflows/) for:build_test.yml: Run linters, formatters, build checks, and Playwright E2E tests on PRs/pushes.sync_reports.yml (or integrate into deploy): Implement chosen strategy (Artifacts, Git Commit, Cloud Storage) to fetch reports from Repo 2 output and place them in src/content/reports/.deploy.yml: Trigger on merge to main. Run sync (if needed), install deps, build (npm run build), deploy dist/ directory to chosen static hosting provider (Netlify, Vercel, Cloudflare Pages, GitHub Pages). Securely handle deployment tokens/keys.E2E Testing:Add Playwright (npx astro add playwright).Create basic tests:Verify homepage (/) loads.Verify report cards are displayed.Verify clicking a report card navigates to the correct /reports/[slug] page.Verify the report detail page displays the title and content.Phase 3: EnhancementsSearch Implementation:Integrate Pagefind (npx astro add pagefind). Configure it to index report content.Add a search input component (src/components/Search.astro) - potentially using Preact/Solid via Astro islands for interactivity if needed beyond basic form submission.Create a search results page or display results dynamically.Filtering Controls:Add UI controls (dropdowns, sliders) for filtering the report list on the index page by date range, score ranges, etc. This will likely require client-side JavaScript (consider Alpine.js or a small UI framework island).Accessibility Audit:Run automated accessibility checks (e.g., axe via Playwright tests or browser extensions) in CI/CD.Perform manual keyboard and screen reader testing. Remediate any issues found.Advanced Styling/UX:Refine Tailwind configuration and component styling for a polished look and feel.Ensure excellent responsiveness across mobile, tablet, and desktop viewports.Final Checks:Verify all code passes linters and formatters.Verify all tests (unit, integration, E2E) pass.Verify FILE_TREE.md is accurate.Verify documentation (README, component props if complex) is adequate.Verify adherence to all points in CLAUDE.md.