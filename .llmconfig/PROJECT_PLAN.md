Project Plan: dont-panic Repository
This document outlines the specific plan and implementation checklist for the dont-panic repository (the frontend), part of the larger Automated Vulnerability Intelligence Platform (AVIP). This version specifies Astro.js as the frontend framework.
Reference: This plan is derived from the main AVIP Project Plan and should be implemented following all standards outlined in CLAUDE.md.
1. Vision & Goals (Context)
Overall Vision: Create an automated platform to monitor vulnerabilities, identify high-priority threats (CVSS >= 9.0, EPSS >= 70%, zero-days), generate LLM-based intelligence reports, and publish them.
This Repository's Role: To provide a simple, clean, performant, and user-facing web interface using Astro.js that displays the Markdown intelligence reports generated by the vulnerability-intelligence-generator repository. The site itself will be called "Don't Panic".
2. Core Principles
Simplicity & Performance: Focus on effectively displaying the generated Markdown content using Astro's content-first approach. Avoid unnecessary client-side JavaScript.
Automation: CI/CD pipeline builds and deploys the Astro site whenever new reports are available or code changes.
Readability: Ensure reports are presented clearly and are easy to navigate.
Standards-Driven: Adhere to relevant CLAUDE.md standards (e.g., accessibility, testing, Git practices) and Astro best practices.
Decoupling: Consume reports from a defined source (e.g., synced directory, cloud storage) without tight coupling to the generator's internals.
3. Architecture & Workflow
graph TD
    subgraph vulnerability-intelligence-generator [Repo 2: Intelligence Generator]
        ReportOutput[(Markdown Reports)]
    end

    subgraph dont-panic [Repo 3: Frontend (Astro)]
        direction LR
        ReportFetcher(Fetch/Sync Reports) --> BuildProcess(Astro Build Process)
        BuildProcess --> Display(Static Site Display)
    end

    ReportOutput --> ReportFetcher

    %% Styling (Conceptual)
    classDef repo fill:#f9f,stroke:#333,stroke-width:2px;
    class vulnerability-intelligence-generator,dont-panic repo;


Workflow:
Report Syncing/Fetching (CI/CD or Trigger): Markdown reports generated by Repo 2 are copied/synced into the src/content/reports/ directory (or similar configured content collection) within this repository's source structure.
Site Build (CI/CD): A CI/CD job runs the astro build command, which processes the Markdown files (using Astro's content collections) and .astro components/layouts into static HTML, CSS, and minimal JS pages.
Deployment (CI/CD): The built static files (typically in the dist/ directory) are deployed to a hosting provider suitable for static sites.
4. Technology Stack
Framework: Astro.js
UI Components: Astro Components (by default, can integrate others like React/Vue/Svelte if needed later).
Styling: Tailwind CSS (using @astrojs/tailwind integration).
Package Manager: npm, pnpm, or yarn.
CI/CD: GitHub Actions (or similar).
Hosting: GitHub Pages, Netlify, Vercel, Cloudflare Pages, AWS S3/CloudFront, Google Cloud Storage/CDN, Azure Static Web Apps.
5. Repository Structure (FILE_TREE.md - Astro Example)
(Maintain this structure and update FILE_TREE.md. Assumes Astro with Tailwind)
.
├── .github/workflows/      # CI/CD workflows (build, deploy, sync reports)
├── .llmconfig/             # LLM configs if used for code gen
├── .vscode/                # Optional: VS Code settings (e.g., for Astro extension)
├── CLAUDE.md               # Copied standards doc
├── FILE_TREE.md            # This file structure overview
├── README.md               # Includes this plan section
├── astro.config.mjs        # Astro configuration file
├── package.json            # Project dependencies and scripts
├── public/                 # Static assets (favicon, images, fonts) - maybe a towel? ;)
├── src/
│   ├── components/         # Reusable Astro components (.astro)
│   ├── content/            # Markdown content collections
│   │   ├── config.ts       # Content collection schema definitions
│   │   └── reports/        # Synced/copied Markdown reports go here (.md)
│   ├── env.d.ts            # TypeScript definitions for Astro env
│   ├── layouts/            # Base page layouts (.astro)
│   └── pages/              # Site pages/routes (.astro, .md)
│       ├── index.astro     # Home page listing reports
│       └── reports/
│           └── [slug].astro # Dynamic route for displaying single reports
├── tailwind.config.cjs     # Tailwind CSS configuration
└── tsconfig.json           # TypeScript configuration


6. Phased Development (This Repo)
Phase 1: Initialize Astro project with Tailwind. Setup basic project structure (src/content/reports, basic layout, report page). Create basic layout/template (src/layouts/, src/pages/reports/[slug].astro) to display a single Markdown report from src/content/. Setup manual report copying. Setup basic CI/CD for building/testing.
Phase 2: Implement index page (src/pages/index.astro) listing all available reports using Astro's content collections API. Refine styling and layout using Tailwind. Automate report syncing/fetching in CI/CD. Setup deployment CI/CD.
Phase 3: Add features like client-side search (e.g., using Pagefind or Algolia integration), filtering/sorting reports, improve accessibility, enhance styling further.
7. Adherence to CLAUDE.md
MANDATORY: Follow relevant standards from CLAUDE.md. This includes:
Git practices.
Testing (E2E tests with Playwright recommended for Astro, linting with ESLint/Prettier).
Accessibility standards (Section 3.11) are important. Astro has good accessibility defaults, but layouts/components need care.
Security best practices (less critical for pure static output, but relevant if adding API routes or server-side rendering later).
Maintain FILE_TREE.md.
LLM Implementation Checklist: dont-panic (Astro & Tailwind)
Use this checklist to guide the implementation process. Ensure all steps adhere to CLAUDE.md.
Phase 1: Basic Setup & Single Report Display
Setup & Configuration:
[ ] Initialize Git repository (name it dont-panic).
[ ] Initialize Astro project using npm create astro@latest (or pnpm/yarn). Choose "Empty" or "Blog" template as a base. Select TypeScript (Strict). Install dependencies. Add Tailwind CSS integration (npx astro add tailwind).
[ ] Create initial directory structure based on the Astro FILE_TREE.md example above (Astro CLI creates most of this).
[ ] Create README.md and add the project plan section above (reflecting the dont-panic name).
[ ] Create FILE_TREE.md reflecting the initial structure.
[ ] Copy CLAUDE.md into the repository root.
[ ] Setup .gitignore (Astro CLI provides a good default).
[ ] Configure astro.config.mjs (e.g., set site property, output to static).
[ ] Configure tailwind.config.cjs as needed.
Content Collection Setup:
[ ] Create src/content/config.ts.
[ ] Define a collection schema for reports (e.g., using zod) specifying expected frontmatter fields (like title, date, cvss, epss).
Basic Layout/Template:
[ ] Create a base layout component src/layouts/BaseLayout.astro. Include basic HTML structure (<html>, <head>, <body>), viewport meta tag, link to Tailwind styles (usually handled by integration), and a <slot /> for page content. Define basic page title logic (perhaps including "Don't Panic" in the title template).
[ ] Create the dynamic route page src/pages/reports/[slug].astro.
[ ] Implement getStaticPaths to generate a page for each Markdown file in src/content/reports/.
[ ] Use Astro.props.entry (or the result from getEntryBySlug) to access the report content and frontmatter.
[ ] Use the BaseLayout.astro.
[ ] Render the report title (entry.data.title).
[ ] Render the Markdown content using <entry.Content />.
[ ] Apply basic Tailwind classes for readability.
Manual Report Addition:
[ ] Create the src/content/reports/ directory.
[ ] Manually add a sample Markdown report file (e.g., src/content/reports/sample-cve.md) with front matter matching the schema defined in src/content/config.ts.
Local Build/Serve:
[ ] Verify the site runs locally using npm run dev (or pnpm/yarn).
[ ] Check that the sample report is rendered correctly at its URL (e.g., /reports/sample-cve).
Testing & Quality (Phase 1):
[ ] Setup ESLint and Prettier for Astro/TypeScript/Tailwind (Astro often includes basic setup). Configure rules as per CLAUDE.md where applicable. Run npm run lint / npm run format.
[ ] Manually check HTML validity and basic rendering in different browsers. Check basic Tailwind styling is applied.
CI/CD (Phase 1 - Build Test):
[ ] Create .github/workflows/build_test.yml:
[ ] Trigger on push/pull_request.
[ ] Setup Node.js environment.
[ ] Install dependencies (npm install or pnpm install/yarn install).
[ ] Run linters/formatters check (npm run lint, npm run format -- --check).
[ ] Run the build command (npm run build).
[ ] (Optional) Add HTML validation step.
Phase 2: Report Listing & Automated Sync/Deploy
Index/List Page:
[ ] Create/modify the index page src/pages/index.astro (or a dedicated /reports index page if preferred).
[ ] Use getCollection('reports') to fetch all report entries.
[ ] Iterate through the entries (reports.map(...)).
[ ] Display a list of reports, linking to each report's page (/reports/${report.slug}). Show title, date, maybe CVSS/EPSS score from frontmatter.
[ ] Apply Tailwind classes for list styling.
Styling Refinement:
[ ] Improve Tailwind CSS usage for better presentation of the list and single report pages. Create reusable Astro components in src/components/ for elements like cards, headers, etc.
Automated Report Syncing (CI/CD):
[ ] Choose and implement a syncing strategy (Artifacts, Git Commit, Cloud Storage) as described in the plan. Update relevant CI/CD workflow files in this repo and Repo 2 (vulnerability-intelligence-generator). Ensure reports land in src/content/reports/.
Deployment (CI/CD):
[ ] Choose hosting provider (e.g., Netlify, Vercel, Cloudflare Pages are excellent for Astro).
[ ] Create .github/workflows/deploy.yml:
[ ] Trigger on push to main branch.
[ ] Perform the report sync step (if needed within this workflow).
[ ] Setup Node.js.
[ ] Install dependencies.
[ ] Build the site (npm run build).
[ ] Deploy the contents of the dist/ directory using appropriate hosting provider actions or CLI tools (e.g., Netlify CLI, Vercel CLI, Cloudflare Wrangler). Handle API keys/tokens securely via GitHub Secrets.
Testing:
[ ] Manually verify deployment works and synced reports appear correctly on the list and single pages.
[ ] Add basic E2E tests using Playwright (npx astro add playwright):
Test that the index page loads and lists reports.
Test that clicking a report link navigates to the correct page and displays content.
Add these tests to the build_test.yml workflow.
Phase 3: Enhancements
Search/Filtering:
[ ] Integrate Astro's Pagefind integration (npx astro add pagefind) for static client-side search or explore other options. Add a search input component.
[ ] Add client-side filtering/sorting logic using JavaScript within an Astro component (using a <script> tag) or by integrating a UI framework component if chosen earlier.
Accessibility:
[ ] Add Astro's accessibility audit tool (npx astro add @astrojs/lit --a11y) or use external tools (axe) in E2E tests or CI/CD.
[ ] Review components and layouts for semantic HTML, keyboard navigation, focus management, and color contrast according to WCAG.
Styling & UX:
[ ] Further refine the visual design using Tailwind CSS and Astro components.
[ ] Ensure excellent responsiveness across devices.
Advanced Testing:
[ ] Expand Playwright E2E test coverage for search, filtering, and accessibility checks.
[ ] Consider visual regression testing if UI stability is critical.
General Reminders:
[ ] ALWAYS adhere to relevant CLAUDE.md standards (Accessibility, Git, Testing).
[ ] LEVERAGE Astro's features (Content Collections, Components, Integrations).
[ ] PRIORITIZE performance and simplicity (minimal client-side JS unless needed).
[ ] AUTOMATE the workflow from report generation to deployment.
[ ] TEST thoroughly (Linting, E2E with Playwright, Accessibility).
[ ] ALWAYS maintain FILE_TREE.md.
[ ] ALWAYS use Conventional Commits.
